"use strict";
var Path = require("path");

module.exports.exploreFolderSync = function(path, action) {
	path = Path.normalize(path);
	var folderContent = fs.readdirSync(path),
		pathname = null,
		pathFileWithoutExt = null,
		stat = null, // get folder content
		index = 0; 
	for(var n=0;n<folderContent.length;n++) {
		if (/^.*~$/.exec(folderContent[n])) { continue; }
		pathname = Path.join(path, folderContent[n]);
		stat = fs.statSync(pathname); // get file stat
		if (stat.isFile()) {
			// File
			action(pathname, stat);
		} else {
			// Directory
			this.exploreFolderSync(pathname, action);
		}
		
	}
}; 